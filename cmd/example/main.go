/*
 * Copyright (c) 2022, arivum.
 * All rights reserved.
 * SPDX-License-Identifier: MIT
 * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT
 */

package main

import (
	"fmt"
	"strings"

	"github.com/arivum/json2msgpackStreamer"
	"github.com/arivum/msgpack"
)

func main() {

	conv := json2msgpackStreamer.NewJSON2MsgPackStreamer(strings.NewReader(
		`{"a": "testvar", "b": ["b", "c"], "c": null, "d": false, "e": true, "g": -10, "f": -2.1, "h": "this is a longer text that needs a broader length indicator", "i": "sldkfj"}
{"a": 4, "b": 18000000043000000233, "b2":  -9000000043000000233, "c": null, "d": false, "e": true, "g": -10, "f": 2.0, "h": "this is a longer text that needs a broader length indicator", "i": "sldkfj"}
{"a": "testvar", "b": ["b", "c"], "c": null}

{"a":"this is larger map test","b":"b","c":"c","d":"d","e":"e","f":"f","g":"g","h":"h","i":"i","j":"j","k":"k","l":"l","m":"m","n":"n","o":"o","p":"p","q": 1}

{"cmplx": {"a":"this is larger map test","b":"b","c":"c","d":"d","e":"e","f":"f","g":"g","h":"h","i":"i","j":"j","k":"k","l":"l","m":"m","n":"n","o":"o","p":"p","q": 1}}

["this is a larger slice test", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o"]

{"cmplx": ["2nd", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n"]}
`,
		//{"_id":{"$oid":"5f58c58d43d686f50417f3cc"},"args":{},"measurement":"Latency99thPercentile","project":"sys-perf","task":"in_cache_snapshot_reads","test":"MultiCollectionUpdate-Update","variant":"linux-3-node-1dayhistory-15gbwtcache","data":[{"cedar_perf_result_id":"f69c9aac8e0ab37535abc8274000dd6468369a52","order":{"$numberInt":"23040"},"value":{"$numberDouble":"9.658188776166689E+08"},"version":"sys_perf_539414b9cb7a9f39856090730398d5dd130ab0c8","commit":"539414b9cb7a9f39856090730398d5dd130ab0c8","commit_date":{"$date":{"$numberLong":"1593264675000"}},"evg_create_date":{"$date":{"$numberLong":"1593264675000"}}},{"cedar_perf_result_id":"95ccc6388170ee4bf7dd86b1cffb12b77b31637e","order":{"$numberInt":"23046"},"value":{"$numberDouble":"1.0426059875266681E+09"},"version":"sys_perf_3cb614281417060da6f8967a7db74ea025e95839","commit":"3cb614281417060da6f8967a7db74ea025e95839","commit_date":{"$date":{"$numberLong":"1593443981000"}},"evg_create_date":{"$date":{"$numberLong":"1593443981000"}}},{"cedar_perf_result_id":"9af81f03778c2f5fbc744bd0d4782d0c676b00ff","order":{"$numberInt":"23090"},"value":{"$numberDouble":"9.798922573266685E+08"},"version":"sys_perf_9f4b81e5bdcf38f9b10459203a804ba406528770","commit":"9f4b81e5bdcf38f9b10459203a804ba406528770","commit_date":{"$date":{"$numberLong":"1593616913000"}},"evg_create_date":{"$date":{"$numberLong":"1593616913000"}}},{"cedar_perf_result_id":"cc4a9b1a33297bfe675f2d52b381dc260d0ba5e1","order":{"$numberInt":"23128"},"value":{"$numberDouble":"9.831290921233357E+08"},"version":"sys_perf_c49e2d8c48abbd734fc99b906547b3a78b53e806","commit":"c49e2d8c48abbd734fc99b906547b3a78b53e806","commit_date":{"$date":{"$numberLong":"1593768359000"}},"evg_create_date":{"$date":{"$numberLong":"1593768359000"}}},{"cedar_perf_result_id":"9bda8ad0adabf76921b7a24abaac1481007c8e69","order":{"$numberInt":"23130"},"value":{"$numberDouble":"1.0094992134733347E+09"},"version":"sys_perf_910176bb6f0283504a56bf50a869866359704c3a","commit":"910176bb6f0283504a56bf50a869866359704c3a","commit_date":{"$date":{"$numberLong":"1593813837000"}},"evg_create_date":{"$date":{"$numberLong":"1593813837000"}}},{"cedar_perf_result_id":"e3d64b0059a8dc60d90bc167221f005250558ace","order":{"$numberInt":"23143"},"value":{"$numberDouble":"9.507217399766669E+08"},"version":"sys_perf_f39585101d93f47c216ea8c30e276ac0410c30a2","commit":"f39585101d93f47c216ea8c30e276ac0410c30a2","commit_date":{"$date":{"$numberLong":"1594134054000"}},"evg_create_date":{"$date":{"$numberLong":"1594134054000"}}},{"cedar_perf_result_id":"d0717b02b5f63f70ca11a929ddc2f53639371092","order":{"$numberInt":"23193"},"value":{"$numberDouble":"9.596443018900015E+08"},"version":"sys_perf_c8e9a31cd3c21b7b40864e39323fbf0823f79f61","commit":"c8e9a31cd3c21b7b40864e39323fbf0823f79f61","commit_date":{"$date":{"$numberLong":"1594310444000"}},"evg_create_date":{"$date":{"$numberLong":"1594310444000"}}},{"cedar_perf_result_id":"6c09e111605583b3cd4333d9399dd30c2cca310f","order":{"$numberInt":"23239"},"value":{"$numberDouble":"1.0157109241933342E+09"},"version":"sys_perf_6653bf6dea2d03fa7075c56a19345804040440a9","commit":"6653bf6dea2d03fa7075c56a19345804040440a9","commit_date":{"$date":{"$numberLong":"1594425402000"}},"evg_create_date":{"$date":{"$numberLong":"1594425402000"}}},{"cedar_perf_result_id":"bd08b40169d2fdad7c588325daced372d8b172a0","order":{"$numberInt":"23247"},"value":{"$numberDouble":"9.796950636600008E+08"},"version":"sys_perf_09d1ea41fb25867e7cb2510b06933c3aa6757306","commit":"09d1ea41fb25867e7cb2510b06933c3aa6757306","commit_date":null,"evg_create_date":{"$date":{"$numberLong":"1594656341000"}}},{"cedar_perf_result_id":"b13fbec83506381fdd85ec6a6c868cd120800f54","order":{"$numberInt":"23296"},"value":{"$numberDouble":"9.434480216766672E+08"},"version":"sys_perf_1c4dde30942b37f1fc0cfbaea688e66746e2406c","commit":"1c4dde30942b37f1fc0cfbaea688e66746e2406c","commit_date":{"$date":{"$numberLong":"1594830124000"}},"evg_create_date":{"$date":{"$numberLong":"1594830124000"}}},{"cedar_perf_result_id":"662cb4b9f08f09cfcbf8c0f0a908a563fb9de7b1","order":{"$numberInt":"23342"},"value":{"$numberDouble":"9.94003207550001E+08"},"version":"sys_perf_00fbc981646d9e6ebc391f45a31f4070d4466753","commit":"00fbc981646d9e6ebc391f45a31f4070d4466753","commit_date":{"$date":{"$numberLong":"1595001163000"}},"evg_create_date":{"$date":{"$numberLong":"1595001163000"}}},{"cedar_perf_result_id":"9df4b6942033ce97299360d81d54b543501f8655","order":{"$numberInt":"23356"},"value":{"$numberDouble":"1.028785736543336E+09"},"version":"sys_perf_87c0656852be4f4ed6a14f08cd75a6000dc4ee74","commit":"87c0656852be4f4ed6a14f08cd75a6000dc4ee74","commit_date":{"$date":{"$numberLong":"1595096372000"}},"evg_create_date":{"$date":{"$numberLong":"1595096372000"}}},{"cedar_perf_result_id":"a36aa3ad4e8aa92aae4c93f9c96b12d48310c55f","order":{"$numberInt":"23376"},"value":{"$numberDouble":"1.0133340406166675E+09"},"version":"sys_perf_7559d09312295b3027594b54ad80ff3c8c9fd9dc","commit":"7559d09312295b3027594b54ad80ff3c8c9fd9dc","commit_date":{"$date":{"$numberLong":"1595287103000"}},"evg_create_date":{"$date":{"$numberLong":"1595287103000"}}},{"cedar_perf_result_id":"5083c14a093c9d7f89c01ffe560de250c15e2ff7","order":{"$numberInt":"23390"},"value":{"$numberDouble":"9.817715992733339E+08"},"version":"sys_perf_cb99a85f986b7cdba9c31dca903ac2f57620af47","commit":"cb99a85f986b7cdba9c31dca903ac2f57620af47","commit_date":{"$date":{"$numberLong":"1595348951000"}},"evg_create_date":{"$date":{"$numberLong":"1595348951000"}}},{"cedar_perf_result_id":"3e28a26728e40086fabf7f314f7bd6a4e763e6f1","order":{"$numberInt":"23433"},"value":{"$numberDouble":"9.506478302833366E+08"},"version":"sys_perf_f7413c92e510170f8c2b06c64c217aaebd0f5fd6","commit":"f7413c92e510170f8c2b06c64c217aaebd0f5fd6","commit_date":{"$date":{"$numberLong":"1595521583000"}},"evg_create_date":{"$date":{"$numberLong":"1595521583000"}}},{"cedar_perf_result_id":"59aeb771e515a2fcc60ba7af6ee807afff250c54","order":{"$numberInt":"23467"},"value":{"$numberDouble":"1.015743006330005E+09"},"version":"sys_perf_0045dc81dfadc33d60130dbb575a7a0a74305924","commit":"0045dc81dfadc33d60130dbb575a7a0a74305924","commit_date":{"$date":{"$numberLong":"1595643937000"}},"evg_create_date":{"$date":{"$numberLong":"1595643937000"}}},{"cedar_perf_result_id":"039164cd9d677619cf816d11faf3d92bd9a522c1","order":{"$numberInt":"23479"},"value":{"$numberDouble":"9.862218336166676E+08"},"version":"sys_perf_6086feae0b0f38bd14bbc8521c4115982433ae9e","commit":"6086feae0b0f38bd14bbc8521c4115982433ae9e","commit_date":{"$date":{"$numberLong":"1595867432000"}},"evg_create_date":{"$date":{"$numberLong":"1595867432000"}}},{"cedar_perf_result_id":"59173a35b4cb00602c12ceeb471c4a0fe45bf2d7","order":{"$numberInt":"23527"},"value":{"$numberDouble":"1.0090981039866673E+09"},"version":"sys_perf_eff8e06c04f70623ca6c21c155ce8bc933b8e4f4","commit":"eff8e06c04f70623ca6c21c155ce8bc933b8e4f4","commit_date":{"$date":{"$numberLong":"1596044945000"}},"evg_create_date":{"$date":{"$numberLong":"1596044945000"}}},{"cedar_perf_result_id":"49ae84704bd51e6f682a16dde42785fb16fa193d","order":{"$numberInt":"23567"},"value":{"$numberDouble":"1.0125030803900015E+09"},"version":"sys_perf_f284ee159e0319b9071661385f7ff421946a821f","commit":"f284ee159e0319b9071661385f7ff421946a821f","commit_date":{"$date":{"$numberLong":"1596215767000"}},"evg_create_date":{"$date":{"$numberLong":"1596215767000"}}},{"cedar_perf_result_id":"bcd882c0aae534b2ed7849183e67d60c567aeee2","order":{"$numberInt":"23589"},"value":{"$numberDouble":"1.0279399744033346E+09"},"version":"sys_perf_21a87d73742ef282a7bda1e56bf06619fd81233c","commit":"21a87d73742ef282a7bda1e56bf06619fd81233c","commit_date":{"$date":{"$numberLong":"1596379402000"}},"evg_create_date":{"$date":{"$numberLong":"1596379402000"}}},{"cedar_perf_result_id":"3efc26ed751a976e9eff61f974b0707350019e66","order":{"$numberInt":"23624"},"value":{"$numberDouble":"9.860393449633338E+08"},"version":"sys_perf_b4db8c01a13fd70997a05857be17548b0adec020","commit":"b4db8c01a13fd70997a05857be17548b0adec020","commit_date":{"$date":{"$numberLong":"1596562501000"}},"evg_create_date":{"$date":{"$numberLong":"1596562501000"}}},{"cedar_perf_result_id":"0a42a5083170c6fabcd544d7d2d55b7702fa0283","order":{"$numberInt":"23676"},"value":{"$numberDouble":"9.973310906100004E+08"},"version":"sys_perf_b5120d585bcc3f00b3378466b1db5277efe48320","commit":"b5120d585bcc3f00b3378466b1db5277efe48320","commit_date":{"$date":{"$numberLong":"1596732551000"}},"evg_create_date":{"$date":{"$numberLong":"1596732551000"}}},{"cedar_perf_result_id":"54552d1283aa0f2a7a1fa86aaa6d470e35767178","order":{"$numberInt":"23684"},"value":{"$numberDouble":"1.0088491646966673E+09"},"version":"sys_perf_0607a6c291bf4cf4580a4444d826ed3c3ac3df47","commit":"0607a6c291bf4cf4580a4444d826ed3c3ac3df47","commit_date":{"$date":{"$numberLong":"1596755655000"}},"evg_create_date":{"$date":{"$numberLong":"1596755655000"}}},{"cedar_perf_result_id":"f5e6731a580b40dcc776988f59fc46f8be35ed3c","order":{"$numberInt":"23722"},"value":{"$numberDouble":"1.0272826240000044E+09"},"version":"sys_perf_b3fdeba28287551ec70156eba7cc318cadbab23e","commit":"b3fdeba28287551ec70156eba7cc318cadbab23e","commit_date":{"$date":{"$numberLong":"1596890958000"}},"evg_create_date":{"$date":{"$numberLong":"1596890958000"}}},{"cedar_perf_result_id":"3bdbad763e187c52f39821d46c478d7691902ddd","order":{"$numberInt":"23738"},"value":{"$numberDouble":"1.009864482320002E+09"},"version":"sys_perf_957febbf065a51cc278c66c72f5a81ff2630201c","commit":"957febbf065a51cc278c66c72f5a81ff2630201c","commit_date":{"$date":{"$numberLong":"1597082195000"}},"evg_create_date":{"$date":{"$numberLong":"1597082195000"}}},{"cedar_perf_result_id":"1b0935d3fd93ac51f1a770e653425793c17fb1f0","order":{"$numberInt":"23839"},"value":{"$numberDouble":"1.0616772089200076E+09"},"version":"sys_perf_e7653706fd52bf02e55a72a174a051ce349d0cf7","commit":"e7653706fd52bf02e55a72a174a051ce349d0cf7","commit_date":{"$date":{"$numberLong":"1597428149000"}},"evg_create_date":{"$date":{"$numberLong":"1597428149000"}}},{"cedar_perf_result_id":"1b810229227afef5a106f0c46b5e4c7466e9592f","order":{"$numberInt":"23887"},"value":{"$numberDouble":"9.618402661000032E+08"},"version":"sys_perf_0662433ac038f4f3cf137a1be30ca245c180e990","commit":"0662433ac038f4f3cf137a1be30ca245c180e990","commit_date":{"$date":{"$numberLong":"1597771296000"}},"evg_create_date":{"$date":{"$numberLong":"1597771296000"}}},{"cedar_perf_result_id":"ee3b39c877ca57b94aa67b95275a9ab9dc18c2e5","order":{"$numberInt":"23890"},"value":{"$numberDouble":"9.792982939633343E+08"},"version":"sys_perf_2506e90e792f9dce299028d532fbabb48a44b556","commit":"2506e90e792f9dce299028d532fbabb48a44b556","commit_date":{"$date":{"$numberLong":"1597779063000"}},"evg_create_date":{"$date":{"$numberLong":"1597779063000"}}},{"cedar_perf_result_id":"194f52bd003f35e5f001219dea11da7576010e03","order":{"$numberInt":"23895"},"value":{"$numberDouble":"9.549464231933343E+08"},"version":"sys_perf_3176fef54bb165f31087686937d86dc6c156aa23","commit":"3176fef54bb165f31087686937d86dc6c156aa23","commit_date":{"$date":{"$numberLong":"1597786707000"}},"evg_create_date":{"$date":{"$numberLong":"1597786707000"}}},{"cedar_perf_result_id":"27f8a50a2bbd609dd51e82ac0a7940a688bb6222","order":{"$numberInt":"23905"},"value":{"$numberDouble":"9.538288278066685E+08"},"version":"sys_perf_2d4e4380f7014861996991f9160921f2b645c8fb","commit":"2d4e4380f7014861996991f9160921f2b645c8fb","commit_date":{"$date":{"$numberLong":"1597828686000"}},"evg_create_date":{"$date":{"$numberLong":"1597828686000"}}},{"cedar_perf_result_id":"2e177f6cfefd84eb746d4e63d3daa980cf542cbf","order":{"$numberInt":"23923"},"value":{"$numberDouble":"9.851502218533349E+08"},"version":"sys_perf_bc3233c1ff791a91cb85cff6439969f394068d31","commit":"bc3233c1ff791a91cb85cff6439969f394068d31","commit_date":{"$date":{"$numberLong":"1597932473000"}},"evg_create_date":{"$date":{"$numberLong":"1597932473000"}}},{"cedar_perf_result_id":"700d6cddfd164333a4e071f93cf96322c649a4f0","order":{"$numberInt":"23933"},"value":{"$numberDouble":"1.0038270286900002E+09"},"version":"sys_perf_526230bafa6e5a49f5783507734fba93486c19ae","commit":"526230bafa6e5a49f5783507734fba93486c19ae","commit_date":{"$date":{"$numberLong":"1597944011000"}},"evg_create_date":{"$date":{"$numberLong":"1597944011000"}}},{"cedar_perf_result_id":"911daa1c75b3e9a7784fb4ae8fb1fa3bf4e567ab","order":{"$numberInt":"23937"},"value":{"$numberDouble":"9.881314718100028E+08"},"version":"sys_perf_504dee509b57ba039bcfe1130054aabc13839fa9","commit":"504dee509b57ba039bcfe1130054aabc13839fa9","commit_date":{"$date":{"$numberLong":"1597959116000"}},"evg_create_date":{"$date":{"$numberLong":"1597959116000"}}},{"cedar_perf_result_id":"9befe922daa41bd55441d8306d29d42eb1e6bfaa","order":{"$numberInt":"23942"},"value":{"$numberDouble":"9.882576807200049E+08"},"version":"sys_perf_a28e071d22e8056781b03b1243c3961b054801b6","commit":"a28e071d22e8056781b03b1243c3961b054801b6","commit_date":{"$date":{"$numberLong":"1597999145000"}},"evg_create_date":{"$date":{"$numberLong":"1597999145000"}}},{"cedar_perf_result_id":"8dcfe0ecbc27781e8b431f9749ce9cebdd684a9a","order":{"$numberInt":"23958"},"value":{"$numberDouble":"9.673259245200015E+08"},"version":"sys_perf_20ed5d51cb1c82597f65967be69b81e6e72c0413","commit":"20ed5d51cb1c82597f65967be69b81e6e72c0413","commit_date":{"$date":{"$numberLong":"1598054916000"}},"evg_create_date":{"$date":{"$numberLong":"1598054916000"}}},{"cedar_perf_result_id":"6dd4a3b65909a92184cfff186a3b103bf822ed5c","order":{"$numberInt":"24023"},"value":{"$numberDouble":"9.93307348056668E+08"},"version":"sys_perf_cef5fedff77cc1719470310bf765f358396ba017","commit":"cef5fedff77cc1719470310bf765f358396ba017","commit_date":{"$date":{"$numberLong":"1598464180000"}},"evg_create_date":{"$date":{"$numberLong":"1598464180000"}}},{"cedar_perf_result_id":"fcc31783675b7dc8125929410eef8bacf77a8c09","order":{"$numberInt":"24091"},"value":{"$numberDouble":"1.0268095271666667E+09"},"version":"sys_perf_1e6b7e1bcaa39e49c47f533dfd31675be08223e4","commit":"1e6b7e1bcaa39e49c47f533dfd31675be08223e4","commit_date":{"$date":{"$numberLong":"1598715031000"}},"evg_create_date":{"$date":{"$numberLong":"1598715031000"}}},{"cedar_perf_result_id":"07cc8a0a5d2d9aef3395643690529afed5790b92","order":{"$numberInt":"24164"},"value":{"$numberDouble":"1.0038990532800019E+09"},"version":"sys_perf_8e3271aaf22106853bf36429cfcee39ed6055f35","commit":"8e3271aaf22106853bf36429cfcee39ed6055f35","commit_date":{"$date":{"$numberLong":"1599156521000"}},"evg_create_date":{"$date":{"$numberLong":"1599156521000"}}},{"cedar_perf_result_id":"7940916b0ce050e678a3f0ea8acee34f769d2851","order":{"$numberInt":"24196"},"value":{"$numberDouble":"9.78824873956668E+08"},"version":"sys_perf_3af444c081fea53ab85073211aa04064d399a898","commit":"3af444c081fea53ab85073211aa04064d399a898","commit_date":{"$date":{"$numberLong":"1599481781000"}},"evg_create_date":{"$date":{"$numberLong":"1599481781000"}}},{"cedar_perf_result_id":"65007325a8684747cf7cbfbe464d583a63b814f9","order":{"$numberInt":"24263"},"value":{"$numberDouble":"1.0159528228933382E+09"},"version":"sys_perf_6a031f67c7040b925a36e8092c4f5d36510d68f2","commit":"6a031f67c7040b925a36e8092c4f5d36510d68f2","commit_date":{"$date":{"$numberLong":"1599847828000"}},"evg_create_date":{"$date":{"$numberLong":"1599847828000"}}},{"cedar_perf_result_id":"d45e20c2b45279f80c437d3a973b9f26d4d98f43","order":{"$numberInt":"24275"},"value":{"$numberDouble":"1.0421200616E+09"},"version":"sys_perf_827a25eb01bc5ddf766b3a543ef0ba5112953e1b","commit":"827a25eb01bc5ddf766b3a543ef0ba5112953e1b","commit_date":{"$date":{"$numberLong":"1600059421000"}},"evg_create_date":{"$date":{"$numberLong":"1600059421000"}}},{"cedar_perf_result_id":"5666f5a7bb23b5bd7ea54f8139d8fd61abfb05c7","order":{"$numberInt":"24308"},"value":{"$numberDouble":"9.798772065566695E+08"},"version":"sys_perf_b3f2165c7cf7d2e4d098f86eaf8bfa3b87b683a1","commit":"b3f2165c7cf7d2e4d098f86eaf8bfa3b87b683a1","commit_date":{"$date":{"$numberLong":"1600178213000"}},"evg_create_date":{"$date":{"$numberLong":"1600178213000"}}},{"cedar_perf_result_id":"d8674a91d0e5dfdf6dc58f96a9754dfd500eedb5","order":{"$numberInt":"24309"},"value":{"$numberDouble":"9.843210267200001E+08"},"version":"sys_perf_accc7e7cd7e7a984347361d03ee76514c4a54163","commit":"accc7e7cd7e7a984347361d03ee76514c4a54163","commit_date":{"$date":{"$numberLong":"1600180118000"}},"evg_create_date":{"$date":{"$numberLong":"1600180118000"}}},{"cedar_perf_result_id":"02c34beba64401ca67f213e29359bbb3527b5e10","order":{"$numberInt":"24310"},"value":{"$numberDouble":"9.204219459033335E+08"},"version":"sys_perf_f11e900c83a67aca01b1d681e35c05a5031fe810","commit":"f11e900c83a67aca01b1d681e35c05a5031fe810","commit_date":{"$date":{"$numberLong":"1600182611000"}},"evg_create_date":{"$date":{"$numberLong":"1600182611000"}}},{"cedar_perf_result_id":"47284fc9caffb95054124f11537ec1ddfa485272","order":{"$numberInt":"24311"},"value":{"$numberDouble":"9.481272262533339E+08"},"version":"sys_perf_46a7656f3c4805dc6ffff32573886b00a4e63888","commit":"46a7656f3c4805dc6ffff32573886b00a4e63888","commit_date":{"$date":{"$numberLong":"1600187132000"}},"evg_create_date":{"$date":{"$numberLong":"1600187132000"}}},{"cedar_perf_result_id":"ba3f6a99a490fdda7ac9a32f557fcf079967730d","order":{"$numberInt":"24312"},"value":{"$numberDouble":"9.772265476366724E+08"},"version":"sys_perf_a13aa67e179d3400bb8a61a8a995f601d97336be","commit":"a13aa67e179d3400bb8a61a8a995f601d97336be","commit_date":{"$date":{"$numberLong":"1600195362000"}},"evg_create_date":{"$date":{"$numberLong":"1600195362000"}}},{"cedar_perf_result_id":"5d954340c6c60f9c1204f2e3951c309bd9539f79","order":{"$numberInt":"24375"},"value":{"$numberDouble":"9.498171728300027E+08"},"version":"sys_perf_8dd48275dcac4f2283f3ae239b60bd11b6083002","commit":"8dd48275dcac4f2283f3ae239b60bd11b6083002","commit_date":{"$date":{"$numberLong":"1600527462000"}},"evg_create_date":{"$date":{"$numberLong":"1600527462000"}}},{"cedar_perf_result_id":"d296215ca639107bcbf6fb5c1430edc7044fe284","order":{"$numberInt":"24383"},"value":{"$numberDouble":"9.535669235900016E+08"},"version":"sys_perf_28efd48fa28e33023f7384a6b2ce82490a311fc0","commit":"28efd48fa28e33023f7384a6b2ce82490a311fc0","commit_date":{"$date":{"$numberLong":"1600707277000"}},"evg_create_date":{"$date":{"$numberLong":"1600707277000"}}},{"cedar_perf_result_id":"6242994f86071d01b13270ce89361b7c8e079695","order":{"$numberInt":"24425"},"value":{"$numberDouble":"9.752576378500011E+08"},"version":"sys_perf_37a2cc5751829912c56c657b1d906a55039a1a29","commit":"37a2cc5751829912c56c657b1d906a55039a1a29","commit_date":{"$date":{"$numberLong":"1600886859000"}},"evg_create_date":{"$date":{"$numberLong":"1600886859000"}}},{"cedar_perf_result_id":"91222ac2b5682c36079132d77cd2cd5674598398","order":{"$numberInt":"24489"},"value":{"$numberDouble":"9.950993532166673E+08"},"version":"sys_perf_b893fe9695ab69ef28782bda1deff9cb2c070d9a","commit":"b893fe9695ab69ef28782bda1deff9cb2c070d9a","commit_date":{"$date":{"$numberLong":"1601142941000"}},"evg_create_date":{"$date":{"$numberLong":"1601142941000"}}},{"cedar_perf_result_id":"50baeb633b11a304f16cdd04cfdbb320d95a2cce","order":{"$numberInt":"24580"},"value":{"$numberDouble":"9.753703143500007E+08"},"version":"sys_perf_6c6567ec4113ae3c3e760ae9a308139840aac85b","commit":"6c6567ec4113ae3c3e760ae9a308139840aac85b","commit_date":{"$date":{"$numberLong":"1601576713000"}},"evg_create_date":{"$date":{"$numberLong":"1601576713000"}}},{"cedar_perf_result_id":"88b7ccfa4a2f7b38ac04c7a1b65af8c607286b94","order":{"$numberInt":"24634"},"value":{"$numberDouble":"9.854564996733356E+08"},"version":"sys_perf_4a24ad41713def49c9216d958d49477ac793e3c5","commit":"4a24ad41713def49c9216d958d49477ac793e3c5","commit_date":{"$date":{"$numberLong":"1601921083000"}},"evg_create_date":{"$date":{"$numberLong":"1601921083000"}}},{"cedar_perf_result_id":"fc7a0d73b7d1449eb05bbe1cd152ef7e6149fab2","order":{"$numberInt":"24778"},"value":{"$numberDouble":"9.415799227533369E+08"},"version":"sys_perf_bbe604a5b3f94f78a30a76941ea89c0ca5db14d2","commit":"bbe604a5b3f94f78a30a76941ea89c0ca5db14d2","commit_date":{"$date":{"$numberLong":"1602612696000"}},"evg_create_date":{"$date":{"$numberLong":"1602612696000"}}},{"cedar_perf_result_id":"715b4a91c0a8f2880f3ac9ffd4cb551d70b4036f","order":{"$numberInt":"24860"},"value":{"$numberDouble":"9.376296559966687E+08"},"version":"sys_perf_a82350f6b16f85067c2137dfeeb2b71d49f45ee8","commit":"a82350f6b16f85067c2137dfeeb2b71d49f45ee8","commit_date":{"$date":{"$numberLong":"1602900503000"}},"evg_create_date":{"$date":{"$numberLong":"1602900503000"}}},{"cedar_perf_result_id":"6a6f9db782dfba779d3afa8028155b280fce8a0d","order":{"$numberInt":"24917"},"value":{"$numberDouble":"9.786790318200016E+08"},"version":"sys_perf_7a9eb6f3d26eb31c271434b47a0556046d6425a8","commit":"7a9eb6f3d26eb31c271434b47a0556046d6425a8","commit_date":{"$date":{"$numberLong":"1603305933000"}},"evg_create_date":{"$date":{"$numberLong":"1603305933000"}}},{"cedar_perf_result_id":"272525df72278e398097602c59eee3504ee92474","order":{"$numberInt":"25129"},"value":{"$numberDouble":"9.510417335433359E+08"},"version":"sys_perf_d6c15c62c4335266dfd30336ae1cf582b84e09ac","commit":"d6c15c62c4335266dfd30336ae1cf582b84e09ac","commit_date":{"$date":{"$numberLong":"1604688154000"}},"evg_create_date":{"$date":{"$numberLong":"1604688154000"}}},{"cedar_perf_result_id":"463b1402d0d59b16c0f1175303c16feda82ea7f3","order":{"$numberInt":"25176"},"value":{"$numberDouble":"9.501879357566689E+08"},"version":"sys_perf_e618ffe3d88cf7193f1210476a592d55eeb2613d","commit":"e618ffe3d88cf7193f1210476a592d55eeb2613d","commit_date":{"$date":{"$numberLong":"1605034348000"}},"evg_create_date":{"$date":{"$numberLong":"1605034348000"}}},{"cedar_perf_result_id":"d9e3d4ee24cc36a89389abbb306b9c739d71695e","order":{"$numberInt":"25264"},"value":{"$numberDouble":"9.313487972600007E+08"},"version":"sys_perf_0ac45dc9e40686bde1be3b578aa80499cc25848b","commit":"0ac45dc9e40686bde1be3b578aa80499cc25848b","commit_date":{"$date":{"$numberLong":"1605358134000"}},"evg_create_date":{"$date":{"$numberLong":"1605358134000"}}},{"cedar_perf_result_id":"e796623fc4821e8f787a5cf8179157c1a358ab46","order":{"$numberInt":"25333"},"value":{"$numberDouble":"9.352070943833336E+08"},"version":"sys_perf_1983f34ee27edb027954292cb140347b0f646f0a","commit":"1983f34ee27edb027954292cb140347b0f646f0a","commit_date":{"$date":{"$numberLong":"1605728760000"}},"evg_create_date":{"$date":{"$numberLong":"1605728760000"}}},{"cedar_perf_result_id":"f2b550517df5da07fb65e6a098f6699f48a6d3a9","order":{"$numberInt":"25398"},"value":{"$numberDouble":"9.937054311900018E+08"},"version":"sys_perf_b4de2e9b4fce34587a3c7ddb1193c43d865cfe34","commit":"b4de2e9b4fce34587a3c7ddb1193c43d865cfe34","commit_date":{"$date":{"$numberLong":"1605982088000"}},"evg_create_date":{"$date":{"$numberLong":"1605982088000"}}}],"updateFailures":{"$numberInt":"0"},"lastSuccessfulUpdate":{"$date":{"$numberLong":"1608481609512"}},"lastUpdateAttempt":{"$date":{"$numberLong":"1608481609512"}}}
	))

	d := msgpack.NewDecoder(conv)
	//var iface interface{}
	for entry := range d.Stream() {
		fmt.Printf("%+v\n", entry)
	}
	fmt.Println(d.LastError())
}
